// Search Pro Configuration
// Generated by Search Pro Control Panel on 2025-06-18T18:11:27.193Z
// This file contains your complete search system configuration

window.searchProConfig = {
  businessData: {
    useBusinessData: false,
    replaceTourData: false,
    includeStandaloneEntries: true,
    businessDataFile: "business.json",
    businessDataDir: "business-data",
    matchField: "id",
    businessDataUrl:
      "http://127.0.0.1:5501/search-pro-non-mod/search-pro-non-mod/business-data/business.json",
  },
  googleSheets: {
    useGoogleSheetData: false,
    includeStandaloneEntries: true,
    useAsDataSource: true,
    useLocalCSV: false,
    localCSVFile: "search-data.csv",
    localCSVDir: "business-data",
    localCSVUrl:
      "http://127.0.0.1:5501/search-pro-non-mod/search-pro-non-mod/business-data/search-data.csv",
    fetchMode: "",
    csvOptions: {
      header: true,
      skipEmptyLines: true,
      dynamicTyping: true,
    },
    caching: {
      enabled: false,
      timeoutMinutes: 60,
      storageKey: "",
    },
    googleSheetUrl: "",
  },
  thumbnailSettings: {
    enableThumbnails: true,
    thumbnailSize: "medium",
    thumbnailSizePx: 120,
    borderRadius: 100,
    borderColor: "#f9d849",
    borderWidth: 4,
    defaultImagePath: "./search-pro-non-mod/assets/default-thumbnail.jpg",
    defaultImages: {
      Panorama: "./search-pro-non-mod/assets/default-thumbnail.jpg",
      Hotspot: "./search-pro-non-mod/assets/hotspot-default.jpg",
      Polygon: "./search-pro-non-mod/assets/polygon-default.jpg",
      Video: "./search-pro-non-mod/assets/video-default.jpg",
      Webframe: "./search-pro-non-mod/assets/webframe-default.jpg",
      Image: "./search-pro-non-mod/assets/image-default.jpg",
      Text: "./search-pro-non-mod/assets/text-default.jpg",
      ProjectedImage: "./search-pro-non-mod/assets/projected-image-default.jpg",
      Element: "./search-pro-non-mod/assets/element-default.jpg",
      Business: "./search-pro-non-mod/assets/business-default.jpg",
      "3DModel": "./search-pro-non-mod/assets/3d-model-default.jpg",
      "3DHotspot": "./search-pro-non-mod/assets/3d-hotspot-default.jpg",
      "3DModelObject":
        "./search-pro-non-mod/assets/3d-model-object-default.jpg",
      default: "./search-pro-non-mod/assets/default-thumbnail.jpg",
    },
    alignment: "left",
    groupHeaderAlignment: "left",
    groupHeaderPosition: "top",
    showFor: {
      panorama: true,
      hotspot: true,
      polygon: true,
      video: true,
      webframe: true,
      image: true,
      text: true,
      projectedimage: true,
      element: true,
      business: true,
      "3dmodel": true,
      "3dhotspot": true,
      "3dmodelobject": true,
      other: true,
    },
  },
  includeContent: {
    unlabeledWithSubtitles: true,
    unlabeledWithTags: true,
    completelyBlank: true,
    elements: {
      includePanoramas: true,
      includeHotspots: true,
      includePolygons: true,
      includeVideos: true,
      includeWebframes: true,
      includeImages: true,
      includeText: true,
      includeProjectedImages: true,
      include3DHotspots: true,
      include3DModels: true,
      include3DModelObjects: true,
      includeBusiness: true,
      skipEmptyLabels: false,
      minLabelLength: 0,
    },
  },
  filter: {
    mode: "none",
    allowedValues: [],
    blacklistedValues: [],
    allowedMediaIndexes: [],
    blacklistedMediaIndexes: [],
    elementTypes: {
      mode: "none",
      allowedTypes: [],
      blacklistedTypes: [],
    },
    elementLabels: {
      mode: "none",
      allowedValues: [],
      blacklistedValues: [],
    },
    tagFiltering: {
      mode: "none",
      allowedTags: [],
      blacklistedTags: [],
    },
    uniqueNames: {
      mode: "none",
      allowedNames: [],
      blacklistedNames: [],
    },
  },
  displayLabels: {
    Panorama: "Panorama",
    Hotspot: "Hotspot",
    Polygon: "Polygon",
    Video: "Video",
    Webframe: "Webframe",
    Image: "Image",
    Text: "Text",
    ProjectedImage: "Projected Image",
    Element: "Element",
    Business: "Business",
    "3DHotspot": "3D Hotspot",
    "3DModel": "3D Model",
    "3DModelObject": "3D Model Object",
  },
  appearance: {
    searchField: {
      borderRadius: {
        topLeft: 35,
        topRight: 35,
        bottomRight: 35,
        bottomLeft: 35,
      },
    },
    searchResults: {
      borderRadius: {
        topLeft: 5,
        topRight: 5,
        bottomRight: 5,
        bottomLeft: 5,
      },
    },
    colors: {
      searchBackground: "#f4f3f2",
      searchText: "#1a1a1a",
      placeholderText: "#94a3b8",
      searchIcon: "#94a3b8",
      clearIcon: "#000000",
      resultsBackground: "#ffffff",
      groupHeaderColor: "#20293a",
      groupCountColor: "#94a3b8",
      resultHover: "#f0f0f0",
      resultBorderLeft: "#ebebeb",
      resultText: "#1e293b",
      resultSubtitle: "#64748b",
      resultIconColor: "#6e85f7",
      resultSubtextColor: "#000000",
      tagBackground: "#e0f2fe",
      tagText: "#0369a1",
      tagBorder: "#0891b2",
    },
    tags: {
      borderRadius: 16,
      fontSize: "11px",
      padding: "3px 10px",
      margin: "2px",
      fontWeight: "600",
      textTransform: "uppercase",
      showBorder: true,
      borderWidth: "1px",
    },
  },
  searchBar: {
    placeholder: "",
    width: 350,
    position: {
      top: null,
      right: null,
      left: null,
      bottom: null,
    },
    useResponsive: true,
    mobilePosition: {
      top: 60,
      left: 20,
      right: 20,
      bottom: "auto",
    },
    mobileOverrides: {
      enabled: true,
      breakpoint: 768,
      width: "90%",
      maxWidth: 350,
      visibility: {
        behavior: "dynamic",
        showOnScroll: false,
        hideThreshold: 100,
      },
      focusMode: false,
      fullScreenResults: true,
    },
  },
  display: {
    showGroupHeaders: true,
    showGroupCount: true,
    showIconsInResults: true,
    onlySubtitles: false,
    showSubtitlesInResults: true,
    showParentLabel: true,
    showParentInfo: true,
    showParentTags: true,
    showParentType: true,
  },
  useAsLabel: {
    subtitles: true,
    tags: true,
    elementType: false,
    parentWithType: false,
    customText: "[Unnamed Item]",
  },
  autoHide: {
    mobile: false,
    desktop: false,
  },
  mobileBreakpoint: 768,
  minSearchChars: 2,
  showTagsInResults: true,
  elementTriggering: {
    initialDelay: 300,
    maxRetries: 3,
    retryInterval: 300,
    maxRetryInterval: 1000,
    baseRetryInterval: 300,
  },
  animations: {
    enabled: true,
    duration: {
      fast: 150,
      normal: 250,
      slow: 400,
    },
    easing: "ease-out",
    searchBar: {
      openDuration: 300,
      closeDuration: 200,
      scaleEffect: true,
    },
    results: {
      fadeInDuration: 200,
      slideDistance: 8,
      staggerDelay: 30,
    },
    reducedMotion: {
      respectPreference: true,
      fallbackDuration: 80,
    },
  },
  searchSettings: {
    fieldWeights: {
      label: 1,
      businessName: 0.9,
      subtitle: 0.8,
      tags: 0.6,
      businessTag: 1,
      parentLabel: 0.3,
    },
    behavior: {
      threshold: 0.4,
      distance: 40,
      minMatchCharLength: 1,
      useExtendedSearch: true,
      ignoreLocation: true,
      includeScore: true,
    },
    boostValues: {
      businessMatch: 2,
      sheetsMatch: 2.5,
      labeledItem: 1.5,
      unlabeledItem: 1,
      childElement: 0.8,
    },
  },
};

// Auto-application logic with robust error handling
(function () {
  let attempts = 0;
  const maxAttempts = 20; // 10 seconds total

  function applyConfig() {
    attempts++;

    if (window.searchFunctions && window.searchFunctions.updateConfig) {
      try {
        window.searchFunctions.updateConfig(window.searchProConfig);
        console.log(
          "[Search Pro] Configuration applied successfully from generated config file",
        );
        console.log("[Search Pro] Applied config:", window.searchProConfig);
        return true;
      } catch (error) {
        console.error("[Search Pro] Error applying config:", error);
        return false;
      }
    }

    if (attempts >= maxAttempts) {
      console.warn(
        "[Search Pro] Max attempts reached. Search functions may not be available yet.",
      );
      return false;
    }

    return false;
  }

  // Try immediate application
  if (applyConfig()) {
    return;
  }

  // DOM ready application
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", function () {
      setTimeout(() => {
        if (!applyConfig()) {
          // Retry with interval
          const interval = setInterval(() => {
            if (applyConfig() || attempts >= maxAttempts) {
              clearInterval(interval);
            }
          }, 500);
        }
      }, 500);
    });
  } else {
    // Document already ready, start retry loop
    const interval = setInterval(() => {
      if (applyConfig() || attempts >= maxAttempts) {
        clearInterval(interval);
      }
    }, 500);
  }
})();

// Export for module systems (if needed)
if (typeof module !== "undefined" && module.exports) {
  module.exports = window.searchProConfig;
}
