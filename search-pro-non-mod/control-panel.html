<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Pro Control Panel</title>
    <link rel="stylesheet" href="./css/control-panel.css">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header__title">
                <h1><i class="fas fa-search"></i> Search Pro Control Panel</h1>
                <span>Configure your search experience</span>
            </div>
            <div class="actions">
                <button id="applyToTour" class="btn btn--success">
                    <i class="fas fa-check"></i> Apply Settings
                </button>
                <button id="downloadConfig" class="btn btn--primary">
                    <i class="fas fa-save"></i> Save Config
                </button>
                <button id="loadConfig" class="btn btn--secondary">
                    <i class="fas fa-upload"></i> Load Config
                </button>
                <button id="resetDefaults" class="btn btn--danger">
                    <i class="fas fa-undo"></i> Reset
                </button>
            </div>
        </header>

        <!-- Status Message -->
        <div id="statusMessage" class="status-message" style="display: none;">
            <i class="fas fa-info-circle"></i>
            <span id="statusText">Ready to configure</span>
        </div>

        <!-- Tab Navigation -->
        <nav class="tabs">
            <button class="tab active" data-tab="general">
                <i class="fas fa-cog"></i> General
            </button>
            <button class="tab" data-tab="data-sources">
                <i class="fas fa-database"></i> Data Sources
            </button>
            <button class="tab" data-tab="appearance">
                <i class="fas fa-palette"></i> Appearance
            </button>
            <button class="tab" data-tab="display">
                <i class="fas fa-eye"></i> Display
            </button>
            <button class="tab" data-tab="content">
                <i class="fas fa-list"></i> Content
            </button>
            <button class="tab" data-tab="filtering">
                <i class="fas fa-filter"></i> Filtering
            </button>
            <button class="tab" data-tab="advanced">
                <i class="fas fa-sliders-h"></i> Advanced
            </button>
        </nav>

        <!-- Tab Content -->
        <main>
            <!-- General Tab -->
            <div id="general" class="tab-content active">
                <div class="section">
                    <h2 class="section__title">Search Bar Settings</h2>
                    <p class="section__description">Configure the main search bar appearance and behavior</p>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="searchPlaceholder">Placeholder Text</label>
                            <input type="text" id="searchPlaceholder" class="form-input" value="Search... Type * for all">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="searchWidth">Search Width (px)</label>
                            <input type="number" id="searchWidth" class="form-input" value="350" min="200" max="800">
                            <div class="form-help">Width of search bar on desktop (200-800px)</div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="minSearchChars">Minimum Search Characters</label>
                            <input type="number" id="minSearchChars" class="form-input" value="2" min="1" max="5">
                            <div class="form-help">Minimum characters before search starts</div>
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="mobileBreakpoint">Mobile Breakpoint (px)</label>
                            <input type="number" id="mobileBreakpoint" class="form-input" value="768" min="480" max="1024">
                            <div class="form-help">Screen width where mobile layout activates</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section__title">Search Position</h2>
                    <p class="section__description">Control where the search bar appears on screen</p>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="positionTop">Top Position (px)</label>
                            <input type="number" id="positionTop" class="form-input" value="70">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="positionRight">Right Position (px)</label>
                            <input type="number" id="positionRight" class="form-input" value="70">
                        </div>
                    </div>
                    <div class="form-row">
                    <div class="form-col">
                        <label class="form-label" for="positionLeft">Left Position (px)</label>
                        <input type="number" id="positionLeft" class="form-input" value="" min="0">
                        <div class="form-help">Distance from left edge of screen (leave empty to use right positioning)</div>
                    </div>
                    <div class="form-col">
                        <label class="form-label" for="positionBottom">Bottom Position (px)</label>
                        <input type="number" id="positionBottom" class="form-input" value="" min="0">
                        <div class="form-help">Distance from bottom edge of screen (leave empty to use top positioning)</div>
                    </div>
                </div>
                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Use Responsive Layout</div>
                            <div class="toggle-description">Adjust layout for mobile devices</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="useResponsive" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section__title">Mobile Settings</h2>
                    <p class="section__description">Mobile-specific positioning and behavior</p>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="mobileTop">Mobile Top Position (px)</label>
                            <input type="number" id="mobileTop" class="form-input" value="60">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="mobileBreakpoint">Mobile Breakpoint (px)</label>
                            <input type="number" id="mobileBreakpoint" class="form-input" value="768">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="mobileLeft">Mobile Left Position (px)</label>
                            <input type="number" id="mobileLeft" class="form-input" value="20">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="mobileRight">Mobile Right Position (px)</label>
                            <input type="number" id="mobileRight" class="form-input" value="20">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="mobileWidth">Mobile Width</label>
                            <input type="text" id="mobileWidth" class="form-input" value="90%">
                            <div class="form-help">Can be percentage or pixels</div>
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="mobileMaxWidth">Mobile Max Width (px)</label>
                            <input type="number" id="mobileMaxWidth" class="form-input" value="350">
                        </div>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Mobile Focus Mode</div>
                            <div class="toggle-description">Darken background when search is active on mobile</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="mobileFocusMode">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Full Screen Results</div>
                            <div class="toggle-description">Show results full screen on mobile</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="fullScreenResults">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="mobileVisibilityBehavior">Mobile Visibility Behavior</label>
                        <select id="mobileVisibilityBehavior" class="form-select">
                            <option value="dynamic" selected>Dynamic</option>
                            <option value="fixed">Fixed</option>
                            <option value="toggle">Toggle</option>
                        </select>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Show on Scroll</div>
                            <div class="toggle-description">Show search when scrolling on mobile</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="mobileShowOnScroll">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="mobileHideThreshold">Hide Threshold (px)</label>
                        <input type="number" id="mobileHideThreshold" class="form-input" value="100">
                        <div class="form-help">Hide when scrolling past this threshold</div>
                    </div>
                </div>

                <!-- Add new section to General tab -->
                <div class="section">
                    <h2 class="section__title">Auto Hide Settings</h2>
                    <p class="section__description">Automatically hide search after selecting an item</p>
                    
                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Auto Hide on Mobile</div>
                            <div class="toggle-description">Hide search after selection on mobile devices</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="autoHideMobile">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Auto Hide on Desktop</div>
                            <div class="toggle-description">Hide search after selection on desktop</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="autoHideDesktop">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Data Sources Tab -->
            <div id="data-sources" class="tab-content">
                <div class="info-box">
                    <i class="fas fa-exclamation-triangle info-box__icon"></i>
                    <div class="info-box__content">
                        <div class="info-box__title">Important: Mutually Exclusive Options</div>
                        <div class="info-box__text">
                            Business Data and Google Sheets cannot be used simultaneously.<br>
                            Enable only ONE external data source at a time.
                        </div>
                    </div>
                </div>

                <!-- Business Data Section -->
                <div class="card data-source-section" id="businessDataSection">
                    <div class="card__header">
                        <h3 class="card__title">
                            <i class="fas fa-building"></i> Business Data
                        </h3>
                    </div>
                    <div class="card__body">
                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Enable Business Data</div>
                                <div class="toggle-description">Use local business.json file to enhance tour data</div>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="useBusinessData">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Replace Tour Data</div>
                                <div class="toggle-description">Replace tour labels with business labels</div>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="replaceTourData">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Include Standalone Entries</div>
                                <div class="toggle-description">Add business entries without tour matches</div>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="businessStandaloneEntries">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="form-row">
                            <div class="form-col">
                                <label class="form-label" for="businessDataFile">Business Data File</label>
                                <input type="text" id="businessDataFile" class="form-input" value="business.json">
                            </div>
                            <div class="form-col">
                                <label class="form-label" for="businessDataDir">Business Data Directory</label>
                                <input type="text" id="businessDataDir" class="form-input" value="business-data">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="matchField">Match Field</label>
                            <input type="text" id="matchField" class="form-input" value="id">
                            <div class="form-help">Field to match against tour elements</div>
                        </div>
                    </div>
                </div>

                <!-- Google Sheets Section -->
                <div class="card data-source-section" id="googleSheetsSection">
                    <div class="card__header">
                        <h3 class="card__title">
                            <i class="fas fa-table"></i> Google Sheets / CSV
                        </h3>
                    </div>
                    <div class="card__body">
                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Enable Google Sheets Data</div>
                                <div class="toggle-description">Use Google Sheets or CSV file as data source</div>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="useGoogleSheetData">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Use as Primary Data Source</div>
                                <div class="toggle-description">Use Google Sheets as primary data source</div>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="useAsDataSource" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Include Standalone Entries</div>
                                <div class="toggle-description">Include entries without tour matches</div>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="sheetsStandaloneEntries" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Use Local CSV</div>
                                <div class="toggle-description">Use local CSV file instead of online Google Sheets</div>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="useLocalCSV">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="form-row">
                            <div class="form-col">
                                <label class="form-label" for="localCSVFile">Local CSV File</label>
                                <input type="text" id="localCSVFile" class="form-input" value="search-data.csv">
                            </div>
                            <div class="form-col">
                                <label class="form-label" for="localCSVDir">Local CSV Directory</label>
                                <input type="text" id="localCSVDir" class="form-input" value="business-data">
                            </div>
                        </div>

                        <div class="form-col">
                            <label class="form-label" for="fetchMode">Fetch Mode</label>
                            <select id="fetchMode" class="form-select">
                                <option value="csv" selected>CSV</option>
                                <option value="json">JSON</option>
                            </select>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">CSV Header</div>
                                <div class="toggle-description">First row contains headers</div>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="csvHeader" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Skip Empty Lines</div>
                                <div class="toggle-description">Skip empty lines in CSV</div>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="csvSkipEmptyLines" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Dynamic Typing</div>
                                <div class="toggle-description">Auto-convert data types</div>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="csvDynamicTyping" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Enable Caching</div>
                                <div class="toggle-description">Cache Google Sheets data</div>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="enableCaching">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="form-col">
                            <label class="form-label" for="cacheTimeout">Cache Timeout (minutes)</label>
                            <input type="number" id="cacheTimeout" class="form-input" value="60">
                        </div>

                        <!-- CSV Options Section -->
                        <div class="section">
                            <h2 class="section__title">CSV Parsing Options</h2>
                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">Header Row</div>
                                    <div class="toggle-description">First row contains column headers</div>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" id="csvHeader" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">Skip Empty Lines</div>
                                    <div class="toggle-description">Ignore blank rows in CSV</div>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" id="csvSkipEmptyLines" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">Dynamic Typing</div>
                                    <div class="toggle-description">Auto-convert data types (numbers, booleans)</div>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" id="csvDynamicTyping" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="cacheStorageKey">Cache Storage Key</label>
                            <input type="text" id="cacheStorageKey" class="form-input" value="tourGoogleSheetsData">
                            <div class="form-help">Key name for browser storage cache</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="googleSheetUrl">Google Sheets URL</label>
                            <input type="url" id="googleSheetUrl" class="form-input" 
                                   placeholder="https://docs.google.com/spreadsheets/d/YOUR_SHEET_ID/edit...">
                            <div class="form-help">Share URL from Google Sheets (automatically converted to CSV)</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Appearance Tab -->
            <div id="appearance" class="tab-content">
                <div class="section">
                    <h2 class="section__title">Colors</h2>
                    <p class="section__description">Customize the search interface colors</p>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="searchBackground">Search Background</label>
                            <input type="color" id="searchBackground" class="form-input" value="#f4f3f2">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="searchText">Search Text</label>
                            <input type="color" id="searchText" class="form-input" value="#1a1a1a">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="placeholderText">Placeholder Text</label>
                            <input type="color" id="placeholderText" class="form-input" value="#94a3b8">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="searchIcon">Search Icon</label>
                            <input type="color" id="searchIcon" class="form-input" value="#94a3b8">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="resultsBackground">Results Background</label>
                            <input type="color" id="resultsBackground" class="form-input" value="#ffffff">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="resultHover">Result Hover</label>
                            <input type="color" id="resultHover" class="form-input" value="#f0f0f0">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="groupHeaderColor">Group Header</label>
                            <input type="color" id="groupHeaderColor" class="form-input" value="#20293A">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="resultText">Result Text</label>
                            <input type="color" id="resultText" class="form-input" value="#1e293b">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="groupCountColor">Group Count Color</label>
                            <input type="color" id="groupCountColor" class="form-input" value="#94a3b8">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="resultSubtitle">Result Subtitle Color</label>
                            <input type="color" id="resultSubtitle" class="form-input" value="#64748b">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="resultIconColor">Result Icon Color</label>
                            <input type="color" id="resultIconColor" class="form-input" value="#6e85f7">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="resultBorderLeft">Result Border Left Color</label>
                            <input type="color" id="resultBorderLeft" class="form-input" value="#ebebeb">
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section__title">Border Radius</h2>
                    <p class="section__description">Customize rounded corners</p>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="searchFieldRadius">Search Field Radius (px)</label>
                            <input type="number" id="searchFieldRadius" class="form-input" value="35" min="0" max="50">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="resultsRadius">Results Radius (px)</label>
                            <input type="number" id="resultsRadius" class="form-input" value="5" min="0" max="20">
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section__title">Tags Appearance</h2>
                    <p class="section__description">Customize how tags look in search results</p>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="tagBackground">Tag Background</label>
                            <input type="color" id="tagBackground" class="form-input" value="#e0f2fe">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="tagText">Tag Text</label>
                            <input type="color" id="tagText" class="form-input" value="#0369a1">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="tagBorder">Tag Border</label>
                            <input type="color" id="tagBorder" class="form-input" value="#0891b2">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="tagRadius">Tag Border Radius (px)</label>
                            <input type="number" id="tagRadius" class="form-input" value="16" min="0" max="20">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="tagFontSize">Tag Font Size</label>
                            <select id="tagFontSize" class="form-select">
                                <option value="10px">10px</option>
                                <option value="11px" selected>11px</option>
                                <option value="12px">12px</option>
                                <option value="13px">13px</option>
                                <option value="14px">14px</option>
                            </select>
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="tagTextTransform">Tag Text Transform</label>
                            <select id="tagTextTransform" class="form-select">
                                <option value="none">None</option>
                                <option value="uppercase" selected>Uppercase</option>
                                <option value="lowercase">Lowercase</option>
                                <option value="capitalize">Capitalize</option>
                            </select>
                        </div>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Show Tag Borders</div>
                            <div class="toggle-description">Display borders around tags</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="showTagBorder" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section__title">Thumbnails</h2>
                    <p class="section__description">Configure thumbnail display settings</p>
                    
                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Enable Thumbnails</div>
                            <div class="toggle-description">Show thumbnails in search results</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="enableThumbnails" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="thumbnailSize">Thumbnail Size</label>
                            <select id="thumbnailSize" class="form-select">
                                <option value="small">Small</option>
                                <option value="medium" selected>Medium</option>
                                <option value="large">Large</option>
                            </select>
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="thumbnailSizePx">Custom Size (px)</label>
                            <input type="number" id="thumbnailSizePx" class="form-input" value="120" min="50" max="300">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="thumbnailBorderRadius">Border Radius (px)</label>
                            <input type="number" id="thumbnailBorderRadius" class="form-input" value="100" min="0" max="150">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="thumbnailBorderColor">Border Color</label>
                            <input type="color" id="thumbnailBorderColor" class="form-input" value="#F9D849">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="thumbnailBorderWidth">Border Width (px)</label>
                            <input type="number" id="thumbnailBorderWidth" class="form-input" value="4" min="0" max="10">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="thumbnailAlignment">Alignment</label>
                            <select id="thumbnailAlignment" class="form-select">
                                <option value="left" selected>Left</option>
                                <option value="right">Right</option>
                            </select>
                        </div>
                    </div>

                    <!-- Thumbnails Section - Missing specific showFor controls -->
                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Show for Business Items</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="showThumbnailsBusiness" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Show for 3D Models</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="showThumbnails3DModel" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="section">
                        <h2 class="section__title">Show Thumbnails For Element Types</h2>
                        <div class="form-row">
                            <div class="form-col">
                                <div class="toggle-group">
                                    <div><div class="toggle-label">Panoramas</div></div>
                                    <label class="toggle">
                                        <input type="checkbox" id="showThumbnailsPanorama" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                
                                <div class="toggle-group">
                                    <div><div class="toggle-label">Hotspots</div></div>
                                    <label class="toggle">
                                        <input type="checkbox" id="showThumbnailsHotspot" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                
                                <div class="toggle-group">
                                    <div><div class="toggle-label">Polygons</div></div>
                                    <label class="toggle">
                                        <input type="checkbox" id="showThumbnailsPolygon" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                
                                <div class="toggle-group">
                                    <div><div class="toggle-label">Videos</div></div>
                                    <label class="toggle">
                                        <input type="checkbox" id="showThumbnailsVideo" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                
                                <div class="toggle-group">
                                    <div><div class="toggle-label">Webframes</div></div>
                                    <label class="toggle">
                                        <input type="checkbox" id="showThumbnailsWebframe" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                
                                <div class="toggle-group">
                                    <div><div class="toggle-label">Images</div></div>
                                    <label class="toggle">
                                        <input type="checkbox" id="showThumbnailsImage" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="form-col">
                                <div class="toggle-group">
                                    <div><div class="toggle-label">Text Elements</div></div>
                                    <label class="toggle">
                                        <input type="checkbox" id="showThumbnailsText" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                
                                <div class="toggle-group">
                                    <div><div class="toggle-label">Projected Images</div></div>
                                    <label class="toggle">
                                        <input type="checkbox" id="showThumbnailsProjectedImage" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                
                                <div class="toggle-group">
                                    <div><div class="toggle-label">Elements</div></div>
                                    <label class="toggle">
                                        <input type="checkbox" id="showThumbnailsElement" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                
                                <div class="toggle-group">
                                    <div><div class="toggle-label">3D Hotspots</div></div>
                                    <label class="toggle">
                                        <input type="checkbox" id="showThumbnails3DHotspot" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                
                                <div class="toggle-group">
                                    <div><div class="toggle-label">3D Model Objects</div></div>
                                    <label class="toggle">
                                        <input type="checkbox" id="showThumbnails3DModelObject" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                
                                <div class="toggle-group">
                                    <div><div class="toggle-label">Other Elements</div></div>
                                    <label class="toggle">
                                        <input type="checkbox" id="showThumbnailsOther" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="groupHeaderAlignment">Group Header Alignment</label>
                            <select id="groupHeaderAlignment" class="form-select">
                                <option value="left" selected>Left</option>
                                <option value="right">Right</option>
                            </select>
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="groupHeaderPosition">Group Header Position</label>
                            <select id="groupHeaderPosition" class="form-select">
                                <option value="top" selected>Top</option>
                                <option value="bottom">Bottom</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="clearIconColor">Clear Icon Color</label>
                            <input type="color" id="clearIconColor" class="form-input" value="#94a3b8">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="resultSubtextColor">Result Subtext Color</label>
                            <input type="color" id="resultSubtextColor" class="form-input" value="#000000">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Display Tab -->
            <div id="display" class="tab-content">
                <div class="section">
                    <h2 class="section__title">Search Results Display</h2>
                    <p class="section__description">Control what information appears in search results</p>
                    
                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Show Group Headers</div>
                            <div class="toggle-description">Display category headers in search results</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="showGroupHeaders" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Show Group Count</div>
                            <div class="toggle-description">Display count of items in each group</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="showGroupCount" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Show Icons in Results</div>
                            <div class="toggle-description">Display type icons next to search results</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="showIconsInResults" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Show Subtitles</div>
                            <div class="toggle-description">Display subtitle/description text</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="showSubtitlesInResults" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Show Tags in Results</div>
                            <div class="toggle-description">Display tags in search results</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="showTagsInResults" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Only Show Subtitles</div>
                            <div class="toggle-description">Hide main labels and only show subtitles</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="onlySubtitles">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section__title">Custom Element Type Labels</h2>
                    <p class="section__description">Customize how element types appear in search results (e.g., change "Panorama" to "Location")</p>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="labelPanorama">Panorama Label</label>
                            <input type="text" id="labelPanorama" class="form-input" value="Panorama">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="labelHotspot">Hotspot Label</label>
                            <input type="text" id="labelHotspot" class="form-input" value="Hotspot">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="labelPolygon">Polygon Label</label>
                            <input type="text" id="labelPolygon" class="form-input" value="Polygon">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="labelVideo">Video Label</label>
                            <input type="text" id="labelVideo" class="form-input" value="Video">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="labelWebframe">Webframe Label</label>
                            <input type="text" id="labelWebframe" class="form-input" value="Webframe">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="labelImage">Image Label</label>
                            <input type="text" id="labelImage" class="form-input" value="Image">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="labelText">Text Label</label>
                            <input type="text" id="labelText" class="form-input" value="Text">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="labelProjectedImage">Projected Image Label</label>
                            <input type="text" id="labelProjectedImage" class="form-input" value="Projected Image">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="labelElement">Element Label</label>
                            <input type="text" id="labelElement" class="form-input" value="Element">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="labelBusiness">Business Label</label>
                            <input type="text" id="labelBusiness" class="form-input" value="Business">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="label3DHotspot">3D Hotspot Label</label>
                            <input type="text" id="label3DHotspot" class="form-input" value="3D Hotspot">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="label3DModel">3D Model Label</label>
                            <input type="text" id="label3DModel" class="form-input" value="3D Model">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="label3DModelObject">3D Model Object Label</label>
                            <input type="text" id="label3DModelObject" class="form-input" value="3D Model Object">
                        </div>
                        <div class="form-col">
                            <!-- Empty for balance -->
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section__title">Parent Information</h2>
                    <p class="section__description">Control display of parent element information</p>
                    
                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Show Parent Label</div>
                            <div class="toggle-description">Show parent element name for child elements</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="showParentLabel" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Show Parent Info</div>
                            <div class="toggle-description">Display detailed parent information</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="showParentInfo" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Show Parent Tags</div>
                            <div class="toggle-description">Include parent element tags</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="showParentTags" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Show Parent Type</div>
                            <div class="toggle-description">Display parent element type</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="showParentType" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section__title">Label Fallbacks</h2>
                    <p class="section__description">What to show when primary labels are missing</p>
                    
                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Use Subtitles as Labels</div>
                            <div class="toggle-description">Use subtitle when main label is missing</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="useSubtitles" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Use Tags as Labels</div>
                            <div class="toggle-description">Use tags when label and subtitle are missing</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="useTags" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Use Element Type</div>
                            <div class="toggle-description">Use element type when all else is missing</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="useElementType">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Parent with Type</div>
                            <div class="toggle-description">Include parent type with label</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="parentWithType">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="form-group">
                    <label class="form-label" for="customText">Custom Fallback Text</label>
                    <input type="text" id="customText" class="form-input" value="[Unnamed Item]">
                    <div class="form-help">Text to show for completely unnamed items</div>
                </div>
                </div>
            </div>

            <!-- Content Tab -->
            <div id="content" class="tab-content">
                <div class="section">
                    <h2 class="section__title">Element Types to Include</h2>
                    <p class="section__description">Choose which types of tour elements to include in search</p>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">Panoramas</div>
                                    <div class="toggle-description">360° panoramic scenes</div>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" id="includePanoramas" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">Hotspots</div>
                                    <div class="toggle-description">Interactive hotspot elements</div>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" id="includeHotspots" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">Polygons</div>
                                    <div class="toggle-description">Polygon-shaped interactive areas</div>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" id="includePolygons" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">Videos</div>
                                    <div class="toggle-description">Video content elements</div>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" id="includeVideos" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">Web Frames</div>
                                    <div class="toggle-description">Embedded web content</div>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" id="includeWebframes" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">Images</div>
                                    <div class="toggle-description">Image overlay elements</div>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" id="includeImages" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="form-col">
                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">Text Elements</div>
                                    <div class="toggle-description">Text overlay elements</div>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" id="includeText" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">Projected Images</div>
                                    <div class="toggle-description">3D projected image elements</div>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" id="includeProjectedImages" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">3D Hotspots</div>
                                    <div class="toggle-description">3D model hotspot elements</div>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" id="include3DHotspots" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">3D Models</div>
                                    <div class="toggle-description">3D model scenes</div>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" id="include3DModels" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">3D Model Objects</div>
                                    <div class="toggle-description">Objects within 3D models</div>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" id="include3DModelObjects" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">Business Elements</div>
                                    <div class="toggle-description">Business data elements</div>
                                </div>
                                <label class="toggle">
                                    <input type="checkbox" id="includeBusiness" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section__title">Content Inclusion Rules</h2>
                    <p class="section__description">Rules for including elements with missing or incomplete data</p>
                    
                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Include Unlabeled with Subtitles</div>
                            <div class="toggle-description">Include items with no label but with subtitle</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="unlabeledWithSubtitles" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Include Unlabeled with Tags</div>
                            <div class="toggle-description">Include items with no label but with tags</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="unlabeledWithTags" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Include Completely Blank</div>
                            <div class="toggle-description">Include items with no label, subtitle, or tags</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="completelyBlank" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Skip Empty Labels</div>
                            <div class="toggle-description">Skip elements with completely empty labels</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="skipEmptyLabels">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="minLabelLength">Minimum Label Length</label>
                        <input type="number" id="minLabelLength" class="form-input" value="0" min="0">
                        <div class="form-help">Minimum character length for labels to be included</div>
                    </div>
                </div>
            </div>

            <!-- Filtering Tab -->
            <div id="filtering" class="tab-content">
                <div class="section">
                    <h2 class="section__title">Content Filtering</h2>
                    <p class="section__description">Filter which content appears in search results</p>
                    
                    <div class="form-group">
                        <label class="form-label" for="filterMode">Filter Mode</label>
                        <select id="filterMode" class="form-select">
                            <option value="none" selected>No Filtering</option>
                            <option value="whitelist">Whitelist (Allow Only Listed)</option>
                            <option value="blacklist">Blacklist (Block Listed)</option>
                        </select>
                        <div class="form-help">Choose how to filter content</div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="allowedValues">Allowed Values (Whitelist)</label>
                        <input type="text" id="allowedValues" class="form-input" placeholder="value1, value2, value3">
                        <div class="form-help">Comma-separated list of allowed values (only used in whitelist mode)</div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="blacklistedValues">Blacklisted Values</label>
                        <input type="text" id="blacklistedValues" class="form-input" placeholder="test, temp, hidden">
                        <div class="form-help">Comma-separated list of blocked values (used in blacklist mode)</div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section__title">Element Type Filtering</h2>
                    <p class="section__description">Filter by specific element types</p>
                    
                    <div class="form-group">
                        <label class="form-label" for="elementTypeMode">Element Type Filter Mode</label>
                        <select id="elementTypeMode" class="form-select">
                            <option value="none" selected>No Type Filtering</option>
                            <option value="whitelist">Allow Only Listed Types</option>
                            <option value="blacklist">Block Listed Types</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="allowedTypes">Allowed Types (Whitelist)</label>
                        <input type="text" id="allowedTypes" class="form-input" placeholder="Panorama, Hotspot, 3DModel">
                        <div class="form-help">Comma-separated list of allowed element types</div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="blacklistedTypes">Blacklisted Types</label>
                        <input type="text" id="blacklistedTypes" class="form-input" placeholder="Text, Element">
                        <div class="form-help">Comma-separated list of blocked element types</div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section__title">Tag Filtering</h2>
                    <p class="section__description">Filter content based on tags</p>
                    
                    <div class="form-group">
                        <label class="form-label" for="tagFilterMode">Tag Filter Mode</label>
                        <select id="tagFilterMode" class="form-select">
                            <option value="none" selected>No Tag Filtering</option>
                            <option value="whitelist">Allow Only Listed Tags</option>
                            <option value="blacklist">Block Listed Tags</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="allowedTags">Allowed Tags (Whitelist)</label>
                        <input type="text" id="allowedTags" class="form-input" placeholder="important, featured, public">
                        <div class="form-help">Comma-separated list of allowed tags</div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="blacklistedTags">Blacklisted Tags</label>
                        <input type="text" id="blacklistedTags" class="form-input" placeholder="hidden, internal, test">
                        <div class="form-help">Comma-separated list of blocked tags</div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section__title">Name-Based Filtering</h2>
                    <p class="section__description">Filter by exact item names</p>
                    
                    <div class="form-group">
                        <label class="form-label" for="nameFilterMode">Name Filter Mode</label>
                        <select id="nameFilterMode" class="form-select">
                            <option value="none" selected>No Name Filtering</option>
                            <option value="whitelist">Allow Only Listed Names</option>
                            <option value="blacklist">Block Listed Names</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="allowedNames">Allowed Names (Whitelist)</label>
                        <input type="text" id="allowedNames" class="form-input" placeholder="Lobby, Room-101, Main-Entrance">
                        <div class="form-help">Comma-separated list of exact item names to allow</div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="blacklistedNames">Blacklisted Names</label>
                        <input type="text" id="blacklistedNames" class="form-input" placeholder="Hidden-Room, Private-Area">
                        <div class="form-help">Comma-separated list of exact item names to block</div>
                    </div>
                </div>
            </div>

            <!-- Advanced Tab -->
            <div id="advanced" class="tab-content">
                <div class="section">
                    <h2 class="section__title">Search Behavior</h2>
                    <p class="section__description">Advanced search algorithm settings</p>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="searchThreshold">Search Threshold</label>
                            <input type="range" id="searchThreshold" class="form-input" min="0" max="1" step="0.1" value="0.4">
                            <span id="thresholdValue">0.4</span>
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="searchDistance">Search Distance</label>
                            <input type="number" id="searchDistance" class="form-input" value="40" min="10" max="100">
                        </div>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Use Extended Search</div>
                            <div class="toggle-description">Enable 'word syntax for exact matches</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="useExtendedSearch" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Ignore Location</div>
                            <div class="toggle-description">Don't prioritize matches at start of text</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="ignoreLocation" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <!-- New section: Search Boost Values -->
                <div class="section">
                    <h2 class="section__title">Search Boost Values</h2>
                    <p class="section__description">Adjust search ranking boosts for different content types</p>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="businessMatchBoost">Business Match Boost</label>
                            <input type="range" id="businessMatchBoost" class="form-input" min="1" max="5" step="0.1" value="2.0">
                            <span id="businessMatchBoostValue">2.0</span>
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="sheetsMatchBoost">Sheets Match Boost</label>
                            <input type="range" id="sheetsMatchBoost" class="form-input" min="1" max="5" step="0.1" value="2.5">
                            <span id="sheetsMatchBoostValue">2.5</span>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="labeledItemBoost">Labeled Item Boost</label>
                            <input type="range" id="labeledItemBoost" class="form-input" min="1" max="3" step="0.1" value="1.5">
                            <span id="labeledItemBoostValue">1.5</span>
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="unlabeledItemBoost">Unlabeled Item Boost</label>
                            <input type="range" id="unlabeledItemBoost" class="form-input" min="0.5" max="2" step="0.1" value="1.0">
                            <span id="unlabeledItemBoostValue">1.0</span>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="childElementBoost">Child Element Boost</label>
                            <input type="range" id="childElementBoost" class="form-input" min="1" max="3" step="0.1" value="1.2">
                            <span id="childElementBoostValue">1.2</span>
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="parentElementBoost">Parent Element Boost</label>
                            <input type="range" id="parentElementBoost" class="form-input" min="1" max="3" step="0.1" value="1.0">
                            <span id="parentElementBoostValue">1.0</span>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="tagBoost">Tag Boost</label>
                            <input type="range" id="tagBoost" class="form-input" min="1" max="3" step="0.1" value="1.0">
                            <span id="tagBoostValue">1.0</span>
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="iconBoost">Icon Boost</label>
                            <input type="range" id="iconBoost" class="form-input" min="1" max="3" step="0.1" value="1.0">
                            <span id="iconBoostValue">1.0</span>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section__title">Field Weights</h2>
                    <p class="section__description">Set importance of different fields for search ranking</p>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="titleWeight">Title Weight</label>
                            <input type="range" id="titleWeight" min="0" max="1" step="0.1" value="1.0" class="form-input">
                            <div id="titleWeightValue" class="range-value">1.0</div>
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="descriptionWeight">Description Weight</label>
                            <input type="range" id="descriptionWeight" min="0" max="1" step="0.1" value="0.7" class="form-input">
                            <div id="descriptionWeightValue" class="range-value">0.7</div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="tagWeight">Tag Weight</label>
                            <input type="range" id="tagWeight" min="0" max="1" step="0.1" value="0.5" class="form-input">
                            <div id="tagWeightValue" class="range-value">0.5</div>
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="contentWeight">Content Weight</label>
                            <input type="range" id="contentWeight" min="0" max="1" step="0.1" value="0.8" class="form-input">
                            <div id="contentWeightValue" class="range-value">0.8</div>
                        </div>
                    </div>

                    <!-- Add missing Field Weight row -->
                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="businessTagWeight">Business Tag Weight</label>
                            <input type="range" id="businessTagWeight" min="0" max="1" step="0.1" value="1.0" class="form-input">
                            <div id="businessTagWeightValue" class="range-value">1.0</div>
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="parentLabelWeight">Parent Label Weight</label>
                            <input type="range" id="parentLabelWeight" min="0" max="1" step="0.1" value="0.3" class="form-input">
                            <div id="parentLabelWeightValue" class="range-value">0.3</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section__title">Animations</h2>
                    <p class="section__description">Configure search interface animations</p>
                    
                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Enable Animations</div>
                            <div class="toggle-description">Enable all search interface animations</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="enableAnimations" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="form-col">  
                        <label class="form-label" for="animationDuration">Animation Speed</label>
                        <select id="animationDuration" class="form-select">
                            <option value="fast">Fast</option>
                            <option value="normal" selected>Normal</option>
                            <option value="slow">Slow</option>
                        </select>
                    </div>

                    <div class="form-col">
                        <label class="form-label" for="animationEasing">Animation Easing</label>
                        <select id="animationEasing" class="form-select">
                            <option value="ease-out" selected>Ease Out</option>
                            <option value="ease-in">Ease In</option>
                            <option value="ease-in-out">Ease In Out</option>
                            <option value="linear">Linear</option>
                        </select>
                    </div>

                    <div class="toggle-group">
                        <div>
                            <div class="toggle-label">Respect Reduced Motion</div>
                            <div class="toggle-description">Respect user's reduced motion preference</div>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="respectReducedMotion" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section__title">Element Triggering</h2>
                    <p class="section__description">Settings for activating tour elements from search</p>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="initialDelay">Initial Delay (ms)</label>
                            <input type="number" id="initialDelay" class="form-input" value="300">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="maxRetries">Max Retries</label>
                            <input type="number" id="maxRetries" class="form-input" value="3">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="retryInterval">Retry Interval (ms)</label>
                            <input type="number" id="retryInterval" class="form-input" value="300">
                        </div>
                        <div class="form-col">
                            <label class="form-label" for="maxRetryInterval">Max Retry Interval (ms)</label>
                            <input type="number" id="maxRetryInterval" class="form-input" value="1000">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label class="form-label" for="baseRetryInterval">Base Retry Interval (ms)</label>
                            <input type="number" id="baseRetryInterval" class="form-input" value="300">
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Hidden file input for loading configs -->
    <input type="file" id="fileInput" accept=".js,.json" style="display: none;">

    <!-- Reset Confirmation Modal -->
    <div id="resetModal" class="modal">
        <div class="modal-content">
            <h3>Reset to Defaults</h3>
            <p>Are you sure you want to reset all settings to their default values? This action cannot be undone.</p>
            <div class="modal-actions">
                <button id="confirmReset" class="btn btn--danger">Reset All Settings</button>
                <button id="cancelReset" class="btn">Cancel</button>
            </div>
        </div>
    </div>

    <script src="./js/control-panel.js"></script>
</body>
</html>